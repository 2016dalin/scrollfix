!function(a){a.fn.scrollFix=function(b){return this.each(function(){var q,r,s,c={startTop:null,startBottom:null,distanceTop:0,endPos:0},d=a.extend({},c,b),e=a(this),f=e.offset(),g=f.top,i=(f.left,jQuery("<div>")),j=a(document).height(),k=d.distanceTop,l=e.outerHeight(),n=(e.outerWidth(),e.width()),o=a(d.startTop),p=a(d.startBottom);q=a.isNumeric(d.endPos)?d.endPos:parseInt(j-a(d.endPos).offset().top),r=parseInt(j-q),s=parseInt(r-l),a(window).scroll(function(){var b=a(window).scrollTop();if(o[0]){var c=o.offset(),f=c.top;g=f,console.log(g)}if(p[0]){var h=p.offset(),j=h.top,m=p.outerHeight();g=parseInt(j+m)}toTop=parseInt(g-k),toTop=toTop>0?toTop:0,b>toTop&&s>b?(e.fadeIn().css({position:"fixed",_position:"absolute",top:d.distanceTop,_top:d.distanceTop,width:n}),i.css({height:l,_height:"0"}).insertBefore(e)):b>=s?e.css({position:"absolute",top:s,width:n}):(e.css({position:"static",top:""}),i.remove())}).scroll()})}}(jQuery);