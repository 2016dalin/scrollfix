!function(a){a.fn.scrollFix=function(b){return this.each(function(){var q,r,s,c={startTop:null,startBottom:null,distanceTop:0,endPos:0},d=a.extend({},c,b),e=a(this),f=e.offset(),g=f.top,i=(f.left,jQuery("<div>")),j=a(document).height(),k=d.distanceTop,l=e.outerHeight(),l=parseFloat(l)-parseFloat(e.css("marginTop").replace(/auto/,0)),n=(e.outerWidth(),e.width()),o=a(d.startTop),p=a(d.startBottom);if(q=a.isNumeric(d.endPos)?d.endPos:parseInt(j-a(d.endPos).offset().top),r=parseInt(j-q),s=parseInt(r-l),o[0]){var t=o.offset(),u=t.top;g=u}if(p[0]){var v=p.offset(),w=v.top,x=p.outerHeight();g=parseInt(w+x)}toTop=parseInt(g-k),toTop=toTop>0?toTop:0;var y=j-g-l;0!=q&&q>=y||a(window).scroll(function(){var b=a(window).scrollTop();b>toTop&&s>b?(e.fadeIn().css({position:"fixed",_position:"absolute",top:d.distanceTop,_top:d.distanceTop,width:n}),i.css({height:l,_height:"0"}).insertBefore(e)):b>=s?e.css({position:"absolute",top:s,width:n}):(e.css({position:"static",top:""}),i.remove())}).scroll()})}}(jQuery);