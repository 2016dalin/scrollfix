!function(a){a.fn.scrollFix=function(b){return this.each(function(){function F(){var b=a(window).scrollTop();b>toTop&&s>b?(e.fadeIn().css({position:"fixed",top:k,left:h,width:n}),D&&e.css({position:"absolute",top:b+k-v.top,left:h}),i.css({height:l}).insertBefore(e)):b>=s?(e.css({position:"absolute",top:s-v.top,left:h-v.left,width:n}),i.css({height:l}).insertBefore(e)):(e.css({position:"static",top:"",left:""}),i.remove())}var q,r,s,c={startTop:null,startBottom:null,distanceTop:0,endPos:0},d=a.extend({},c,b),e=a(this),f=e.offset(),g=f.top,h=f.left,i=jQuery("<div>"),j=a(document).height(),k=d.distanceTop,l=e.outerHeight(),l=parseFloat(l)+parseFloat(e.css("marginBottom").replace(/auto/,0)),n=(e.outerWidth(),e.width()),o=a(d.startTop),p=a(d.startBottom);if(!(e.length<=0)){for(var t=e.parent(),u=t.css("position");!/^relative|absolute$/i.test(u)&&(t=t.parent(),u=t.css("position"),!/^body|html$/i.test(t[0].tagName)););if(/^body|html$/i.test(t[0].tagName))var v={top:0,left:0};else var v=t.offset();var w=parseInt(jQuery("body").css("top"),10);if(isNaN(w)||(k+=w),q=isNaN(d.endPos)?parseFloat(j-a(d.endPos).offset().top):d.endPos,r=parseFloat(j-q),s=parseFloat(r-l),o[0]){var x=o.offset(),y=x.top;g=y}if(p[0]){var z=p.offset(),A=z.top,B=p.outerHeight();g=parseFloat(A+B)}toTop=parseFloat(g-k),toTop=toTop>0?toTop:0;var C=j-g-l;if(!(0!=q&&q>=C)){var E,D=!-[1]&&!window.XMLHttpRequest;a(window).on("scroll",function(){clearTimeout(E),E=setTimeout(F,10)})}}})}}(jQuery);