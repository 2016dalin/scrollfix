!function(a){a.fn.scrollFix=function(b){return this.each(function(){var q,r,s,c={startTop:null,startBottom:null,distanceTop:0,endPos:0},d=a.extend({},c,b),e=a(this),f=e.offset(),g=f.top,i=(f.left,jQuery("<div>")),j=a(document).height(),k=d.distanceTop,l=e.outerHeight(),l=parseFloat(l)+parseFloat(e.css("marginBottom").replace(/auto/,0)),n=(e.outerWidth(),e.width()),o=a(d.startTop),p=a(d.startBottom);if(!(e.length<=0)){var t=parseInt(jQuery("body").css("top"),10);if(isNaN(t)||(k+=t),q=a.isNumeric(d.endPos)?d.endPos:parseFloat(j-a(d.endPos).offset().top),r=parseFloat(j-q),s=parseFloat(r-l),o[0]){var u=o.offset(),v=u.top;g=v}if(p[0]){var w=p.offset(),x=w.top,y=p.outerHeight();g=parseFloat(x+y)}toTop=parseFloat(g-k),toTop=toTop>0?toTop:0;var z=j-g-l;if(!(0!=q&&q>=z)){var A=!-[1]&&!window.XMLHttpRequest;a(window).scroll(function(){var b=a(window).scrollTop();b>toTop&&s>b?(e.fadeIn().css({position:"fixed",top:k,width:n}),A&&e.css({position:"absolute",top:b+k}),i.css({height:l}).insertBefore(e)):b>=s?(e.css({position:"absolute",top:s,width:n}),i.css({height:l}).insertBefore(e)):(e.css({position:"static",top:""}),i.remove())}).scroll()}}})}}(jQuery);